(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-67905860"],{2532:function(e,t,n){"use strict";var r=n("23e7"),a=n("e330"),s=n("5a34"),c=n("1d80"),i=n("577e"),o=n("ab13"),u=a("".indexOf);r({target:"String",proto:!0,forced:!o("includes")},{includes:function(e){return!!~u(i(c(this)),i(s(e)),arguments.length>1?arguments[1]:void 0)}})},"2921f":function(e,t,n){},"44e7":function(e,t,n){var r=n("861d"),a=n("c6b6"),s=n("b622"),c=s("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[c])?!!t:"RegExp"==a(e))}},"5a34":function(e,t,n){var r=n("da84"),a=n("44e7"),s=r.TypeError;e.exports=function(e){if(a(e))throw s("The method doesn't accept regular expressions");return e}},8418:function(e,t,n){"use strict";var r=n("a04b"),a=n("9bf2"),s=n("5c6c");e.exports=function(e,t,n){var c=r(t);c in e?a.f(e,c,s(0,n)):e[c]=n}},"97c3":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"channel"},[n("div",{staticClass:"myChannel"},[n("div",{staticClass:"head"},[n("span",{staticClass:"name"},[e._v("我的频道")]),n("van-button",{attrs:{type:"danger",plain:"",size:"mini"},on:{click:function(t){e.showCross=!e.showCross}}},[e._v(e._s(e.showCross?"取消":"编辑")+" ")])],1),n("van-grid",e._l(e.channelList,(function(t,r){return n("van-grid-item",{key:r,on:{click:function(t){return e.changeIndex(r)}},scopedSlots:e._u([{key:"text",fn:function(){return[n("span",{class:{active:e.value===r}},[e._v(e._s(t.name))]),e.showCross&&r?n("van-icon",{staticClass:"mycross",attrs:{name:"cross"},on:{click:function(n){return n.stopPropagation(),e.delChannel(r,t.id)}}}):e._e()]},proxy:!0}],null,!0)})})),1)],1),n("div",{staticClass:"myChannel"},[e._m(0),n("van-grid",e._l(e.selectChannels,(function(t,r){return n("van-grid-item",{key:r,attrs:{text:t.name},on:{click:function(n){return e.addChannel(t)}}})})),1)],1)])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"head"},[n("span",{staticClass:"name"},[e._v("可选频道")])])}],s=n("1da1"),c=(n("96cf"),n("d81d"),n("4de4"),n("d3b7"),n("caad"),n("2532"),n("a434"),n("365c")),i=n("5f87"),o={props:["channelList","value"],data:function(){return{allChannels:[],showCross:!1}},computed:{selectChannels:function(){var e=this.channelList.map((function(e){return e.id}));return this.allChannels.filter((function(t){return!e.includes(t.id)}))}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["e"])();case 2:n=t.sent,e.allChannels=n.data.data.channels;case 4:case"end":return t.stop()}}),t)})))()},methods:{delChannel:function(e,t){var n=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(n.channelList.splice(e,1),n.value>e&&n.$emit("input",n.value-1),a=n.$store.state.token.token,!a){r.next=8;break}return r.next=6,Object(c["b"])(t);case 6:r.next=9;break;case 8:Object(i["d"])(n.channelList);case 9:n.$toast.success("删除频道成功");case 10:case"end":return r.stop()}}),r)})))()},addChannel:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.channelList.push(e),r=t.$store.state.token.token,!r){n.next=8;break}return n.next=5,Object(c["a"])({channels:[{id:e.id,seq:t.channelList.length+1}]});case 5:t.$toast.success("新增频道成功"),n.next=10;break;case 8:Object(i["d"])(t.channelList),t.$toast.success("新增频道成功");case 10:case"end":return n.stop()}}),n)})))()},changeIndex:function(e){this.$emit("input",e)}}},u=o,l=(n("993a"),n("2877")),d=Object(l["a"])(u,r,a,!1,null,null,null);t["default"]=d.exports},"993a":function(e,t,n){"use strict";n("2921f")},a434:function(e,t,n){"use strict";var r=n("23e7"),a=n("da84"),s=n("23cb"),c=n("5926"),i=n("07fa"),o=n("7b0b"),u=n("65f0"),l=n("8418"),d=n("1dde"),h=d("splice"),f=a.TypeError,p=Math.max,v=Math.min,m=9007199254740991,b="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!h},{splice:function(e,t){var n,r,a,d,h,g,x=o(this),C=i(x),w=s(e,C),k=arguments.length;if(0===k?n=r=0:1===k?(n=0,r=C-w):(n=k-2,r=v(p(c(t),0),C-w)),C+n-r>m)throw f(b);for(a=u(x,r),d=0;d<r;d++)h=w+d,h in x&&l(a,d,x[h]);if(a.length=r,n<r){for(d=w;d<C-r;d++)h=d+r,g=d+n,h in x?x[g]=x[h]:delete x[g];for(d=C;d>C-r+n;d--)delete x[d-1]}else if(n>r)for(d=C-r;d>w;d--)h=d+r-1,g=d+n-1,h in x?x[g]=x[h]:delete x[g];for(d=0;d<n;d++)x[d+w]=arguments[d+2];return x.length=C-r+n,a}})},ab13:function(e,t,n){var r=n("b622"),a=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[a]=!1,"/./"[e](t)}catch(r){}}return!1}},caad:function(e,t,n){"use strict";var r=n("23e7"),a=n("4d64").includes,s=n("44d2");r({target:"Array",proto:!0},{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")},d81d:function(e,t,n){"use strict";var r=n("23e7"),a=n("b727").map,s=n("1dde"),c=s("map");r({target:"Array",proto:!0,forced:!c},{map:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);